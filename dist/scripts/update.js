chrome.runtime.onInstalled.addListener((e=>{const t=chrome.runtime.id;chrome.management.get(t,(t=>{const n=function(e){return e.icons[e.icons.length-1].url}(t);let s;s=null,"install"===e.reason?s=function(e){return{type:"basic",iconUrl:e,title:"Extension Switch",message:"Extension Switch has been successfully installed."}}(n):"update"===e.reason&&(s=function(e,t){const n={"1.5.2":{title:"Extension Switch is updated",message:"Added dark mode."},"1.5.1":{title:"Extension Switch is updated",message:"Maintenance update."},"1.5.0":{title:"Extension Switch is updated",message:"Internal structure has been improved."},"1.4.0":{title:"Extension Switch is updated",message:"Fixed the bug that no extension is listed."},"1.3.0":{title:"Extension Switch is updated",message:"Incremental search function is added. The color of disabled extensions is adjusted."},"1.2.0":{title:"Extension Switch is updated",message:"",items:[{title:"new",message:"Performance improvement."}]},"1.1.0":{title:"Extension Switch is updated",message:"",items:[{title:"new",message:"An option to exclude extensions is added."}]}};if(n[e]){const s=n[e];return{type:"list",iconUrl:t,title:s.title,message:s.message,items:s.items}}return null}(e.previousVersion,n)),s&&chrome.notifications.clear("extensionUpdated",(e=>{chrome.notifications.create("extensionUpdated",s)}))}))}));